<link rel="import" href="elements.html">
<link rel="import" href="uqlibrary-toolbar-styles.html">
<link rel="import" href="uqlibrary-toolbar-search-input.html">

<dom-module id="uqlibrary-toolbar">
  <template>
    <style is="custom-style" include="toolbar-styles">
      :host {
        @apply(--layout-horizontal);
      }
    </style>
    <paper-toolbar id="mainToolbar" class="searchElement">
      <paper-icon-button icon="menu" id="hamburgerMenuIcon" on-tap="menuClicked" class="hideSearch"></paper-icon-button>

      <paper-icon-button icon="arrow-back" id="backArrow" on-tap="backClicked" class="hideSearch"
                         hidden$="{{_emptyValue(appBackUrl)}}"></paper-icon-button>

      <span class="title hideSearch">
        <a class="applicationName" href$="{{appTitleLink}}">{{appTitle}}</a>
      </span>

      <paper-icon-button icon="close" id="closeButton" on-tap="deactivateSearch"
                         class="showSearch searchElement"></paper-icon-button>

      <iron-a11y-keys id="a11y" keys="enter" on-keys-pressed="search"></iron-a11y-keys>

      <uqlibrary-toolbar-search-input id="searchField" suggestions="{{suggestions}}" label="{{searchPlaceholderText}}"
                              class="showSearch searchElement"></uqlibrary-toolbar-search-input>

      <paper-icon-button on-tap="search" icon="search" id="searchButton"></paper-icon-button>

      <div id="appLinksIcon" class="hideSearch" hidden$="{{_emptyValue(appLinks)}}">
        <paper-menu-button horizontal-align="right" vertical-align="below">
          <paper-icon-button icon="more-vert" class="dropdown-trigger" alt="Options Menu"></paper-icon-button>
          <paper-menu class="dropdown-content">
            <template is="dom-repeat" items="{{appLinks}}" as="link">
              <paper-item>
                <a on-tap="linkClicked" href$="{{link.url}}" data-title$="{{link.label}}">{{link.label}}</a>
              </paper-item>
            </template>
          </paper-menu>
        </paper-menu-button>
      </div>
    </paper-toolbar>
  </template>
  <script src="uqlibrary-toolbar.js"></script>
</dom-module>